---
title: "Go学习笔记-基础知识"
date: 2019-03-26T16:18:06+08:00
draft: false  
categories: ["golang"]
tags: ["golang"]

---

Go 学习笔记-基础知识

> Go(又称Golang) 是Google 开发的一种静态强类型、编译型、并发型，并具有垃圾回收功能的编程语言

<!--more-->

> Go 特性
>
> 静态类型并具有丰富的内置类型
>
> 函数多返回值
>
> 错误处理机制
>
> 语言层并发
>
> 面向对象: 使用类型、组合、接口来实现面向对象
>
> 自动垃圾回收机制
>
> 交差编译



### 1. 在mac 上安装

```bash 
 tar -C /usr/local -xzf go$VERSION.$OS-$ARCH.tar.gz
 设置GOROOT  GOPATH  GOPROXY  
 #GOROOT
 export PATH=$PATH:/usr/local/go/bin
 #GOPATH
 export GOPATH=$HOME/GoWork
 export PATH=$PATH:$GOPATH/bin

 #GOROOT 是go安装目录路径
 #GOPATH 工作路径，
      bin 是可执行文件存放路径
      pkg 编译包时，生成文件存放路径
      src 源码路径  
 #GOPROXY 设置
 go env -w GOPROXY=https://goproxy.cn,direct 
 
```

### 2. GO Module设置

```bash
go env -w GO111MODULE=on
godoc -http=:8000   官方文档查看
```

### 3. Go hello word

```go
package main  //定义包main   

import (
	"fmt"   //导入标准包fmt 
)
// 程序入口，manin 函数
func main() {
  /* 
   注释 
   这里调用fmt包下的Println 函数打印内容到控制台
  */
	fmt.Println("Hello  world") // 打印hello world 到控制台
}
```
### 4. 基本组成元素

**标识符** 

#go 语言提供一些预先定义的标识符用来表示内置的常量、函数、类型

#在自定义标识符时避免使用

```bash
标识符:程序中定义的名字  变量名，常量名字，函数名字，自定义类型，接口，包名等进行命名，以建立名称和使用之间的关系
Go语言标识符的命名规则:

1. 只能由非空字母(Unicode)、数字、下划线(_)组成
2. 只能以字母或下划线开
3. 不能go语言关键字
4. 避免使用go语言预定义标识符
5. 标识符区分大小写
   规范:
    1.必须满足: 组成只能由非空的Unicode 编码字符串、数字、下划线组成
    2.必须满足: 必须以Unicode 编码的字符串或下划线开头(不能以数字开头)
    3.必须满足: 不能与go 的关键字冲突(package，func,var .....25 )
    建议:
     1. ASCILL 编码
     2. 变量使用驼峰式，多个英文字母
        多个英文字母my_name   myName(驼峰)
     3. 与go内置的标识符不要冲突(string ...)

说明: 标识符区分大小写
	   my = ""
	   My = ""
```

1. **内置常量:**  true  false   nil  iota  
2. **内置类型**: bool、byte、rune、int、int8、int16、int32、int64、uint、uint8、uint16、uint32、uint64、uintptr、float32、float64、complex64、complex128、string、error、
3. **内置函数**: make、len、cap、new、append、copy、close、delete、complex、real、imag、panic、recove
4. **空白表示符:_**

### 5. 基本组成元素

**关键字**

#关键字用于特定的语法结构

#Go语言定义25个关键字

***声明**：import 

***实体声明和定义**: char、const、func、interface、map、struct、type、var

***流程控制**: break、case、continue、default、defer、else、fallthrough、for、go、goto、if、range、return、select、switch

***字面量**: 字面量是值的表示方法，常用与对变量/常量进行初始化

**主要分为**: 

*标识基础数据类型值的字面量，例如: 0,1.1,true,3+4i,'a',"我爱中国"

*构造自定义的复合数据类型的类型字面量，例如: type Interval  int 

*用于表示复合数据类型值的复合字面量，用来构造array、slice、map、struct、的值,例如:{1,2,3}

**操作符:**

```bash
算术运算符
关系运算符
逻辑运算符
位运算符
赋值运算符
其他运算符
```

**分隔符**

小括号()   中括号[]   大括号()    分号;,  逗号，

### 6. 变量定义

在Go中，如果一个名字以大写字母开头，那么它就是已导出的，例如：

pi和pizza 并未以大写字母开头，所以它们是未导出的

 如果将Pi 修改为pi 就是未导出的

```go
package main

import "fmt"

func  main() {
	// 变量给数据起一个名字
	var  msg string = "hello world"

	fmt.Println(msg)
	//其他代码
	
	fmt.Println(msg)
	//其他代码
	
	fmt.Println(msg)
	//其他代码
	fmt.Println(msg)
	//其他代码

}
```



#### **6.1 变量作用域** 

```go
package main

import "fmt"

//包级别

var packageVar string = "package Var "

func main() {
	// 函数级别的
	var funcVar string = "func Var"

	{
		// 块级别的
		var blockVar string = "block Var "

		{
			//限定变量的使用范围
			//子块级别
			var innerBlockVar string = "inner block var"
			fmt.Println(packageVar, funcVar, innerBlockVar,blockVar)

		}
		fmt.Println(packageVar,funcVar,blockVar)

	}
         fmt.Println(packageVar,funcVar)
}

```

#### **6.2 变量的定义方式**

```go
package main

import (
   "fmt"
)

func main(){

   var name string = "xingxing"  //定义类型并且初始化了值
   var zeroString   string  // 定义变量类型,但不初始化值
   var typeString  = "xing" // 定义变量省略类型，不能省略初始化值
   //通过对应的值类型推到变量的类型

   // 短声明(必须在函数内包含函数内子块使用，不能再包级别使用)
   shortString := "xingxing" //通过对应的值类型推到变量的类型
   

   fmt.Println(name,zeroString,typeString,shortString)
}


package main

import (
	"fmt"
)

func  main(){
// 函数内(块)定义的变量必须使用
/*	var  name string = "xingxing"
	var  msg  = "hello world "
	var desc   string
*/
	var (
		name string = "xingxing"
	    msg  = "hello world "
	    desc string
	)
	x,y := "x","y"
	fmt.Println(name,msg,desc,x,y)

}
```

#### **6.3 更新变量的值**

```go
package main

import (
   "fmt"
)

func main(){
   var name string = "xingxing"
   fmt.Println(name)
   name = "xing" // 更新变量的值
   fmt.Println(name)


}
```

#### 6.4 常量声明

```go
package main

import "fmt"

const (
    name string = "xingxing"
    msg   = "msg"
)

func  main(){
   fmt.Println(name)
   fmt.Println(msg)
}
```

### 7. 枚举

```go
package main

import "fmt"


func main() {
   const (
      Mon  = iota  //在常量组中使用iota,初始化0，每次调用+1
      Tuesd
      Web
      Thur
      Fir
      Sat
      Sun
   )
     fmt.Println(Mon,Tuesd,Web,Thur,Fir,Sat,Sun)

}
```



### 8.数据类型

```bash
布尔类型: 用来表示真假，只有两个值,真  true  假 false 
数字类型
浮点类型
字符串
数组
切片
映射
自定义类型
```



#### 8.1 布尔类型

*布尔类型用于真假，类型名为bool，只有两个值true 和false，占用一个字节宽度，零值为false 

```go
package main
import "fmt"
func main(){
	isGirl := true
	fmt.Println("%T,%#v", isGirl,isGirl)
	//操作
	//逻辑运算
	a,b,c,d := true,true,false,false
	//与: 左操作数与右操作数都为true，结果为true  &&
	fmt.Println("a,b:",a&&b) // true && true : true
	fmt.Println("a,c:",a&&c) // true && false : false
	fmt.Println("c,b:",c&&b)// flase && true : false
	fmt.Println("c,d:",c&&d) // false && false : false
	//或: 左操作数与右操作数只要有一个为true，结果为true ||
	fmt.Println("a,b:",a&&b) // true || true : true
	fmt.Println("a,c:",a&&c) // true || false : true
	fmt.Println("c,b:",c&&b)// flase || true : true
	fmt.Println("c,d:",c&&d) // false || false : false
	//非: 取反 true=> false, false=> true  !
	fmt.Println("c,b:",c&&b)// !true : false
	fmt.Println("c,d:",c&&d) // !false: true

}
```

#### 8.2 整数类型

```go
package main

import "fmt"

func main(){
    var age8 int8  = 31
    var age int  = 31
    fmt.Println("%T, %#v,%d\n",age8,age8,age8)
    fmt.Printf("%T,%#v,%d\n",age,age,age)
}

package main

import "fmt"

func main(){
	 var age8 int8  = 31
	 var age int  = 31
	 fmt.Println("%T, %#v,%d\n",age8,age8,age8)
	 fmt.Printf("%T,%#v,%d\n",age,age,age)

	 a,b := 2,4
	 fmt.Println(a + b )
	 fmt.Println(a - b )
	 fmt.Println(a * b )
	 fmt.Println(a/b)
	 fmt.Println(a%b)
   a++
   b--

	 fmt.Println(a,b)

	 //关系运算 > < >= <= !=  ==

	 fmt.Println(a>b)
	 fmt.Println(a<b)
	 fmt.Println(a>=b)
	 fmt.Println(a<=b)
	 fmt.Println(a==b)
	 fmt.Println(a !=b )

   fmt.Println(a,b) 
```

#### 8.3 浮点数类型

浮点数用于表示带小数的数字，go 提供float32和float64两种浮点类型

```go
 package main
 
 import (
    "fmt"
 )
 
 func main(){
    name := ""
    fmt.Print("请输入你的名字:")
    fmt.Scan(&name)
    fmt.Println("你输入的名字是:",name)
 
 
    age := 0
    fmt.Println("你输入的年龄是:",age)
 
    msg := ""
    fmt.Print("请输入你的msg:")
 
    fmt.Scan(&msg)
    fmt.Println("你输入的msg是:",msg)
 
 }
```

#### 8.4 格式化输出

#使用fmt.Printf 进行格式化参数输出，占位符

```
%b  二进制
%c  字符
%d  十进制
```

#### 8.5 枚举类型

常使用iota 生成器用于初始化一系列相同规则的常量，批量声明常量的第一个常量使用iota进行赋值，此时iota被重置为0，其他常量省略类型和赋值，在每初始化一个常量则加1 

```go
package main

import "fmt"
func main() {

   const (
      c1 int = iota
      c2
      c3
      c4
   )
   fmt.Println(c1,c2,c3,c4)
}
```

#### 8.6 指针类型

#指针声明需要指定存储地址中对应数据的类型，并使用*作为类型前缀，指针变量声明后会被初始化为nil，表示空指针

```go
package main

import "fmt"

func main() {

    A := 2
    B := A
    fmt.Println(A,B)

    C := &A

    fmt.Println(C)
    fmt.Println(*C)

     *C = 5
     fmt.Println(A)

}
```

#### 8.7 字符串类型

Go内置了字符串类型，使用string 表示



### 9.注释

#go 支持两种注释方式,行注释和块注释 

   行注释: 以// 开头  

   块注释: 以/*  */  



